<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<!-- Constants -->
	<constant name="struts.devMode" value="false" />
	<constant name="struts.i18n.encoding" value="utf-8" />
	<constant name="struts.action.extension" value="do" />
	<constant name="struts.objectFactory" value="spring" />
	<constant name="struts.custom.i18n.resources"
		value="ApplicationResources,errors" />
	<constant name="struts.multipart.maxSize" value="20971520" />
	<constant name="struts.ui.theme" value="simple" />
	<constant name="struts.objectFactory.spring.autoWire" value="name" />
	<!--  constant name="struts.codebehind.pathPrefix" value="/WEB-INF/pages/"/>-->
	<constant name="struts.enable.SlashesInActionNames" value="true" />

	<!-- Configuration for the default package. -->
	<package name="default" extends="struts-default">
		<interceptors>

			<interceptor name="objectArray"
				class="com.oarage.logistic.framework.interceptor.ObjectArrayInterceptor" />

			<!-- Interceptor to handle allowing only admins to certain actions -->

			<!-- Copied from struts-default.xml and changed validation exclude methods -->
			<interceptor-stack name="defaultStack">
				<interceptor-ref name="exception" />
				<interceptor-ref name="alias" />
				<interceptor-ref name="servlet-config" />
				<interceptor-ref name="prepare" />
				<interceptor-ref name="i18n" />
				<interceptor-ref name="chain" />
				<interceptor-ref name="debugging" />
				<interceptor-ref name="profiling" />
				<interceptor-ref name="scoped-model-driven" />
				<interceptor-ref name="model-driven" />
				<interceptor-ref name="fileUpload" />
				<interceptor-ref name="checkbox" />
				<interceptor-ref name="static-params" />
				<interceptor-ref name="params">
					<param name="excludeParams">dojo\..*</param>
				</interceptor-ref>
				<interceptor-ref name="conversionError" />

				<interceptor-ref name="validation">
					<param name="excludeMethods">
						cancel,execute,delete,edit,list
					</param>
				</interceptor-ref>

				<!-- 
					<interceptor-ref name="workflow">
					<param name="excludeMethods">
					input,back,cancel,browse
					</param>
					</interceptor-ref>-->
			</interceptor-stack>

			<interceptor-stack name="fileUploadStack">
				<interceptor-ref name="fileUpload" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>

			<interceptor-stack name="objectArrayStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="objectArray" />
			</interceptor-stack>

			<interceptor-stack name="adminCheck">
				<interceptor-ref name="defaultStack" />

			</interceptor-stack>
		</interceptors>

		<global-results>
			<result name="mainMenu" type="redirect-action">
				mainMenu
			</result>
			<result name="dataAccessFailure">
				/pages/common/DataAccessFailure.jsp
			</result>
			<result name="success">/pages/common/Success.jsp</result>
			<result name="invalid.token">
				/pages/common/Token.jsp
			</result>

		</global-results>

		<global-exception-mappings>
			<exception-mapping
				exception="org.springframework.dao.DataAccessException"
				result="dataAccessFailure" />
		</global-exception-mappings>


		<action name="loginAction!*"
			class="com.oarage.logistic.privilege.action.LoginAction"
			method="{1}">
			<result name="main">/pages/common/MainFrame.jsp</result>
			<result name="index">/Index.jsp</result>
			<result name="menus">/pages/common/Menu.jsp</result>
		</action>

		<action name="roleAction!*"
			class="com.oarage.logistic.privilege.action.RoleAction"
			method="{1}">
			<result name="add">/pages/privilege/AddRole.jsp</result>
			<result name="list">/pages/privilege/RoleList.jsp</result>
			<result name="update">
				/pages/privilege/UpdateRole.jsp
			</result>
		</action>

		<action name="functionAction!*"
			class="com.oarage.logistic.privilege.action.FunctionAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />

			<result name="add">
				/pages/privilege/AddSysFunction.jsp
			</result>
			<result name="list">
				/pages/privilege/SysFunctionList.jsp
			</result>
			<result name="update">
				/pages/privilege/UpdateSysFunction.jsp
			</result>
			<result name="fail">
				/pages/privilege/SysFunctionList.jsp
			</result>
		</action>

		<action name="menuAction!*"
			class="com.oarage.logistic.privilege.action.MenuAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />
			<result name="add">/pages/privilege/AddSysMenu.jsp</result>
			<result name="list">
				/pages/privilege/SysMenuList.jsp
			</result>
			<result name="update">
				/pages/privilege/UpdateSysMenu.jsp
			</result>
			<result name="select">
				/pages/privilege/SelectMenu.jsp
			</result>
		</action>

		<action name="privilegeAction!*"
			class="com.oarage.logistic.privilege.action.PrivilegeAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack"></interceptor-ref>
			<result name="list">
				/pages/privilege/AddPrivilege.jsp
			</result>
		</action>


		<action name="systemAction!*"
			class="com.oarage.logistic.privilege.action.SystemAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />
			<result name="add">/pages/privilege/AddSysInfo.jsp</result>
			<result name="list">
				/pages/privilege/SysInfoList.jsp
			</result>
			<result name="update">
				/pages/privilege/UpdateSysInfo.jsp
			</result>
			<result name="detail">
				/pages/privilege/SysDetailInfo.jsp
			</result>
		</action>

		<action name="ownerAction!*"
			class="com.oarage.logistic.privilege.action.OwnerAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />
			<result name="changePW">
				/pages/user/UserPWDUpdate.jsp
			</result>
			<result name="menuList">/pages/owner/MenuList.jsp</result>
			<result name="sort">/pages/user/MenuSort.jsp</result>
		</action>

		<action name="userAction!*"
			class="com.oarage.logistic.privilege.action.UserAction">
			<interceptor-ref name="objectArrayStack" />
			<result name="add">/pages/user/UserInfoAdd.jsp</result>
			<result name="list">/pages/user/UserInfoList.jsp</result>
			<result name="update">
				/pages/user/UserInfoUpdate.jsp
			</result>
		</action>

		<action name="logAction!*"
			class="com.oarage.logistic.privilege.action.LogAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />
			<result name="list">/pages/log/LogList.jsp</result>

			<result name="search">/pages/log/LogSearch.jsp</result>
		</action>

		<action name="systemAction!*"
			class="com.oarage.logistic.privilege.action.SystemAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />
			<result name="add">/pages/privilege/SysInfoAdd.jsp</result>
			<result name="list">
				/pages/privilege/SysInfoList.jsp
			</result>
			<result name="update">
				/pages/privilege/SysInfoUpdate.jsp
			</result>
			<result name="detail">
				/pages/privilege/SysInfoDetail.jsp
			</result>
		</action>

	

		<action name="companyAction!*"
			class="com.oarage.logistic.basedata.action.CompanyAction"
			method="{1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">/pages/basedata/CompanyList.jsp</result>
			<result name="add">/pages/basedata/CompanyAdd.jsp</result>
			<result name="update">
				/pages/basedata/CompanyUpdate.jsp
			</result>

		</action>

		
		<action name="qqChatAction!*"
			class="com.oarage.logistic.webqq.action.QqChatAction" method="{1}">
			<interceptor-ref name="objectArrayStack" />

		</action>

		<action name="noticeAction!*"
			class="com.oarage.logistic.privilege.action.NoticeAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">/pages/privilege/NoticeList.jsp</result>
			<result name="update">
				/pages/privilege/NoticeUpdate.jsp
			</result>
			<result name="add">/pages/privilege/NoticeAdd.jsp</result>
			<result name="lastTenNotices">
				/pages/privilege/TenNoticeList.jsp
			</result>
			<result name="detail">
				/pages/privilege/NoticeDetail.jsp
			</result>
		</action>
		
		<action name="sysConfigAction!*"
			class="com.oarage.logistic.privilege.action.SysConfigAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="update">
				/pages/privilege/SysConfigUpdate.jsp
			</result>
			<result name="wageConfig">
				/pages/basedata/WageConfigUpdate.jsp
			</result>
		</action>
		<!-- Add additional actions here -->
		
		<action name="staffTypeAction!*"
			class="com.oarage.logistic.basedata.action.StaffTypeAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">
				/pages/basedata/StaffTypeList.jsp
			</result>
			<result name="update">
				/pages/basedata/StaffTypUpdate.jsp
			</result>
			<result name="add">
				/pages/basedata/StaffTypAdd.jsp
			</result>
		</action>
		<!-- 班组信息action -->
		<action name="classInfoAction!*"
			class="com.oarage.logistic.basedata.action.ClassInfoAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">
				/pages/basedata/ClassInfoList.jsp
			</result>
			<result name="update">
				/pages/basedata/ClassInfoUpdate.jsp
			</result>
			<result name="add">
				/pages/basedata/ClassInfoAdd.jsp
			</result>
		</action>
		<!--岗位信息action -->
		<action name="positionAction!*"
			class="com.oarage.logistic.basedata.action.PositionAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">
				/pages/basedata/PositionList.jsp
			</result>
			<result name="update">
				/pages/basedata/PositionUpdate.jsp
			</result>
			<result name="add">
				/pages/basedata/PositionAdd.jsp
			</result>
		</action>
		<!--岗位信息action -->
		<action name="nationAction!*"
			class="com.oarage.logistic.basedata.action.NationAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">
				/pages/basedata/NationList.jsp
			</result>
			<result name="update">
				/pages/basedata/NationUpdate.jsp
			</result>
			<result name="add">
				/pages/basedata/NationAdd.jsp
			</result>
		</action>
		<!--员工信息action -->
		<action name="staffAction!*"
			class="com.oarage.logistic.basedata.action.StaffAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<interceptor-ref name ="fileUploadStack" /> 
			<result name="list">
				/pages/basedata/StaffList.jsp
			</result>
			<result name="update">
				/pages/basedata/StaffUpdate.jsp
			</result>
			<result name="add">
				/pages/basedata/StaffAdd.jsp
			</result>
			<result name="cardList">
				/pages/basedata/StaffCardList.jsp
			</result>
			<result name="cardUpdate">
				/pages/basedata/StaffCardUpdate.jsp
			</result>
			<result name="wageBaseList">
				/pages/basedata/StaffWageBaseList.jsp
			</result>
			<result name="wageBaseUpdate">
				/pages/basedata/StaffBaseWageUpdate.jsp
			</result>
			<result name="staffImport">
				/pages/basedata/StaffImport.jsp
			</result>
		</action>
		<!--考勤信息action -->
		<action name="attendanceAction!*"
			class="com.oarage.logistic.basedata.action.AttendanceAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">
				/pages/basedata/AttendanceList.jsp
			</result>
			<result name="update">
				/pages/basedata/AttendanceUpdate.jsp
			</result>
			<result name="add">
				/pages/basedata/AttendanceAdd.jsp
			</result>
			<result name="attendanceDetail">
				/pages/basedata/AttendanceDetail.jsp
			</result>
		</action>
		<!--工资信息action -->
		<action name="wageAction!*"
			class="com.oarage.logistic.business.action.WageAction"
			method="${1}">
			<interceptor-ref name="objectArrayStack" />
			<interceptor-ref name="token">
				<param name="includeMethods">add</param>
			</interceptor-ref>
			<result name="list">
				/pages/business/WageList.jsp
			</result>
			<result name="update">
				/pages/business/WageUpdate.jsp
			</result>
			<result name="add">
				/pages/business/WageAdd.jsp
			</result>
			<result name="inputedList">
				/pages/business/WageInputedList.jsp
			</result>
			<result name="caiwuList">
				/pages/business/WageCaiwuList.jsp
			</result>
			<result name="caiwuUpdate">
				/pages/business/WageCaiwuUpdate.jsp
			</result>
			<result name="searchList">
				/pages/business/WageSearchList.jsp
			</result>
			<result name="wageDetail">
				/pages/business/WageDetail.jsp
			</result>
			<result name="autoCreat">
				/pages/business/WageAutoCreat.jsp
			</result>
		</action>
		<!-- Add additional actions here -->
		<action name="reportAction" class="com.oarage.logistic.business.action.ReportAction" method="${1}" >
		<result name="caiwuBaobiao" >
			/pages/report/WageCaiwu.jsp
		</result>
		<result name="caiwuBaobiaoreport" >
			/pages/report/WageCaiwuReport.jsp
		</result>
		<result name="gongzhiBaobiao" >
			/pages/report/Wagegongzhi.jsp
		</result>
		<result name="gongzhiBaobiaoreport" >
			/pages/report/wagegongzhireport.jsp
		</result>
		<result name="attendanceBaobiao" >
			/pages/report/Attendance.jsp
		</result>
		<result name="attendanceBaobiaoreport" >
			/pages/report/AttendanceReport.jsp
		</result>
		<result name="wageSum" >
			/pages/report/WageSum.jsp
		</result>
		<result name="wageCaiwuSum" >
			/pages/report/WageCaiwuSum.jsp
		</result>
		<result name="caiwuBankBaobiao" >
			/pages/report/WageCaiwuBank.jsp
		</result>
		<result name="caiwuBankBaobiaoreport" >
			/pages/report/WageCaiwuBankReport.jsp
		</result>
		</action>
	</package>


</struts>
